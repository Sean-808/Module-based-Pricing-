<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Bayzat Bundle Builder</title>

  <!-- Tailwind — included inline so you don’t need a separate CSS file -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    /* ---- base card styles (already in your file) ---- */
    body            {font-family:Inter,system-ui,sans-serif;background:#fbfbfe;}
    .card           {border:1px solid #e2e8f0;border-radius:.75rem;padding:1rem;display:flex;flex-direction:column;transition:border-color .15s,box-shadow .15s;}
    .card-active    {border-color:#6366f1;box-shadow:0 0 0 2px rgba(99,102,241,.35);}
    .tick           {width:1rem;height:1rem;border:2px solid #94a3b8;border-radius:50%;}
    .tick.active    {background:#6366f1;border-color:#6366f1;}
    .module-card    {background:#fff;border:1px solid #e2e8f0;border-radius:1rem;padding:1.25rem;}
  </style>
</head>
<body class="text-slate-800">

  <!-- ── header / employee selector ─────────────────────────── -->
  <header class="max-w-6xl mx-auto px-4 py-8 text-center space-y-5">
    <h1 class="text-4xl font-bold">Create your bundle</h1>
    <div class="inline-flex gap-4 items-center justify-center">
      <label class="text-sm font-medium">Employees</label>
      <input id="empInput" type="number" value="50" min="1" max="500" class="border p-2 rounded w-24 text-center" />
    </div>
  </header>

  <!-- where all module sections render -->
  <section id="modules" class="max-w-6xl mx-auto px-4 space-y-10 mb-16"></section>

  <!-- ── JavaScript (also exactly as in your file) ───────────── -->
  <script type="module">
  /* ---------- icon map ---------- */
  const icons = {
    payroll:'https://cdn-icons-png.flaticon.com/512/4725/4725121.png',
    timeoff:'https://cdn-icons-png.flaticon.com/512/2838/2838912.png',
    attendance:'https://cdn-icons-png.flaticon.com/512/3105/3105773.png',
    shift:'https://cdn-icons-png.flaticon.com/512/1490/1490711.png'
  };

  /* ---------- module definitions ---------- */
  const modules = [
    {key:'payroll',title:'Payroll',type:'radio',tiers:[
      {key:'bronze',label:'Bronze',flatMonthly:375,flatAnnual:4500},
      {key:'silver',label:'Silver',flatMonthly:750,flatAnnual:9000},
      {key:'gold',label:'Gold',flatMonthly:1125,flatAnnual:13500},
      {key:'enterprise',label:'Enterprise',flatMonthly:1625,flatAnnual:19500}
    ]},

    {key:'timeoff',title:'Time Off',type:'radio',tiers:[
      {key:'starter',label:'Starter',flatMonthly:375,flatAnnual:4500,cap:50},
      {key:'growth',label:'Growth',flatMonthly:625,flatAnnual:7500,cap:100},
      {key:'momentum',label:'Momentum',flatMonthly:875,flatAnnual:10500,cap:200},
      {key:'enterprise',label:'Enterprise',flatMonthly:1250,flatAnnual:15000,cap:Infinity}
    ]},

    {key:'attendance',title:'Attendance',type:'quantity',tiers:[
      {key:'site',label:'Site / Outlet',priceMonthly:83.33,priceAnnual:1000},
      {key:'flexi',label:'FlexiPlus',priceMonthly:166.67,priceAnnual:2000},
      {key:'multisite',label:'MultiSite',priceMonthly:566.67,priceAnnual:6800},
      {key:'enterprise',label:'Enterprise',priceMonthly:null,priceAnnual:null}
    ]},

    {key:'shift',title:'Shift Scheduling',type:'quantity',tiers:[
      {key:'site',label:'Site / Outlet',priceMonthly:91.67,priceAnnual:1100},
      {key:'flexi',label:'FlexiPlus',priceMonthly:208.33,priceAnnual:2500},
      {key:'multisite',label:'MultiSite',priceMonthly:666.67,priceAnnual:8000},
      {key:'enterprise',label:'Enterprise',priceMonthly:null,priceAnnual:null}
    ]}
  ];

  /* ---------- helpers ---------- */
  const $=s=>document.querySelector(s);
  let emp=50,sels={},qtys={},cycle='monthly';

  function autoTime(){
    sels.timeoff = emp<=50?'starter':emp<=100?'growth':emp<=200?'momentum':'enterprise';
  }
  autoTime();

  function fmt(n){return Math.round(n).toLocaleString();}

  /* ---------- build UI ---------- */
  function build(){
    const wrap=$("#modules");wrap.innerHTML='';
    modules.forEach(m=>{
      const sec=document.createElement('section');sec.className='module-card';
      sec.innerHTML=`<div class="flex items-center gap-3 mb-4">
        <img src="${icons[m.key]}" class="w-6 h-6" alt="">
        <h2 class="text-xl font-semibold">${m.title}</h2></div>`;
      const grid=document.createElement('div');grid.className='grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4';

      m.tiers.forEach(t=>{
        const sel = (m.type==='radio' && sels[m.key]===t.key) || (m.type==='quantity' && qtys[`${m.key}_${t.key}`]>0);
        const price = m.key==='timeoff'
            ? (cycle==='annual'?t.flatAnnual:t.flatMonthly)
            : (cycle==='annual'?t.flatAnnual||t.priceAnnual:t.flatMonthly||t.priceMonthly);
        const unit  = m.key==='timeoff' ? '' : (m.type==='quantity'?'per office':'flat');
        const card=document.createElement('div');card.className='card'+(sel?' card-active':'');
        card.dataset.module=m.key;card.dataset.tier=t.key;
        card.innerHTML=`<div class="flex justify-between mb-2">
            <span class="font-medium">${t.label}</span>
            <span class="tick ${sel?'active':''}"></span></div>
          <div class="text-indigo-600 font-bold text-lg">AED ${fmt(price)}</div>
          <div class="text-xs text-slate-600">${unit}</div>`;
        grid.appendChild(card);
      });
      sec.appendChild(grid); wrap.appendChild(sec);
    });
  }
  build();

  /* ---------- events ---------- */
  $("#empInput").addEventListener('input',e=>{
    emp = +e.target.value||1;
    autoTime();
    build();
  });

  document.body.addEventListener('click',e=>{
    const c=e.target.closest('[data-module]'); if(!c) return;
    const mKey=c.dataset.module,tKey=c.dataset.tier;
    const m=modules.find(x=>x.key===mKey);
    if(m.type==='radio'){ sels[mKey]=sels[mKey]===tKey?null:tKey; }
    build();
  });
  </script>
</body>
</html>
  
