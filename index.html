<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Bayzat – Build your own bundle</title>

  <!-- 1 ️⃣  Tailwind CDN so we can use utility classes with zero tooling -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- 2 ️⃣  Optional custom tweaks -->
  <style>
    body{font-family:Inter,system-ui,sans-serif}
    /* soft brand gradient behind the whole page */
    body{background:linear-gradient(to bottom,#E8E6FF 0%,#ffffff 60%)}
    /* subtle glass-morphism for the sticky invoice */
    .glass{background:rgba(255,255,255,.7);backdrop-filter:blur(6px)}
  </style>
</head>
<body class="text-slate-800 min-h-screen">

  <!-- 🌅 HERO + GLOBAL CONTROLS -->
  <header class="max-w-6xl mx-auto px-4 py-10 text-center space-y-6">
    <h1 class="text-4xl md:text-5xl font-semibold">Create your bundle</h1>

    <!-- Billing cycle & employee controls -->
    <div class="flex flex-col md:flex-row items-center justify-center gap-4">

      <!-- Billing pill -->
      <div class="inline-flex bg-slate-100 rounded-full p-1">
        <button id="monthlyBtn" class="cycle-btn px-4 py-1 rounded-full text-sm">Monthly</button>
        <button id="annualBtn"  class="cycle-btn px-4 py-1 rounded-full text-sm">Annual</button>
      </div>

      <!-- Employee slider / input -->
      <div class="flex items-center gap-2 w-full md:w-[300px]">
        <label class="shrink-0 text-sm font-medium">Employees</label>
        <input id="empRange" type="range" min="1" max="500" value="50" class="w-full accent-indigo-600">
        <input id="empInput" type="number" value="50" class="w-20 border rounded px-2 py-1 text-center text-sm">
      </div>
    </div>
  </header>

  <!-- 🔳 MAIN GRID -->
  <main class="max-w-6xl mx-auto px-4 grid grid-cols-1 lg:grid-cols-3 gap-8 pb-24">

    <!-- LEFT: modules -->
    <section id="modules" class="space-y-10 lg:col-span-2">
      <!-- JS injects rows here -->
    </section>

    <!-- RIGHT: sticky invoice -->
    <aside id="invoice"
           class="glass lg:col-span-1 sticky top-6 self-start rounded-xl shadow-md p-6 space-y-4">
      <h3 class="text-xl font-semibold">Your products</h3>
      <ul id="lineItems" class="divide-y text-sm"></ul>
      <hr>
      <div id="subtotalRow"  class="flex justify-between text-sm"></div>
      <div id="vatRow"       class="flex justify-between text-sm"></div>
      <div id="totalRow"     class="flex justify-between text-lg font-semibold pt-2"></div>
      <button class="w-full bg-indigo-600 hover:bg-indigo-700 text-white py-3 rounded-lg font-medium">
        Buy now
      </button>
    </aside>
  </main>

  <!-- 🧠  ALL LOGIC IN ONE SMALL SCRIPT  ------------------------------------->
  <script>
/* ---------------------------------------------------------------------------
  1.  CONFIG  – edit this array to add modules, tiers & prices
-----------------------------------------------------------------------------*/
const modules = [
  {
    key: "service_support",
    title: "Service & Support",
    tiers: [
      { key:"bronze",  label:"Bronze",  priceAnnual:1350, priceMonthly:1350/12, blurb:"Basic onboarding & email support" },
      { key:"silver",  label:"Silver",  priceAnnual:7400, priceMonthly:7400/12, blurb:"Enhanced onboarding & phone support" },
      { key:"gold",    label:"Gold",    priceAnnual:3500, priceMonthly:3500/12, blurb:"Success manager & analytics" },
      { key:"enterprise", label:"Enterprise", priceAnnual:0, priceMonthly:0, blurb:"Custom pricing" }
    ]
  },
  {
    key: "attendance",
    title: "Attendance",
    tiers: [
      { key:"basic", label:"Basic",     priceAnnual:2400, priceMonthly:2400/12, blurb:"Clock-in app & reports" },
      { key:"multisite", label:"MultiSite", priceAnnual:4800, priceMonthly:4800/12, blurb:"Multiple locations" },
      { key:"advanced", label:"Advanced",  priceAnnual:9600, priceMonthly:9600/12, blurb:"Biometrics & overtime rules" },
      { key:"enterprise", label:"Enterprise", priceAnnual:0, priceMonthly:0, blurb:"Custom pricing" }
    ]
  },
  // 👉  Add Payroll, Talent, etc. the same way
];

/* ---------------------------------------------------------------------------
  2.  DOM SHORTCUTS
-----------------------------------------------------------------------------*/
const $ = (sel) => document.querySelector(sel);
const modulesEl   = $("#modules");
const lineItemsEl = $("#lineItems");
const subtotalEl  = $("#subtotalRow");
const vatEl       = $("#vatRow");
const totalEl     = $("#totalRow");

/* ---------------------------------------------------------------------------
  3.  STATE
-----------------------------------------------------------------------------*/
let cycle       = "annual";      // "monthly" | "annual"
let employees   = 50;
let selections  = {};            // { moduleKey: tierKey }

/* ---------------------------------------------------------------------------
  4.  RENDER MODULE ROWS
-----------------------------------------------------------------------------*/
function renderModules(){
  modulesEl.innerHTML = "";
  modules.forEach(mod=>{
    const row = document.createElement("section");
    row.innerHTML = `
      <h2 class="text-lg font-semibold mb-3">${mod.title}</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4">
        ${mod.tiers.map(tier=>`
          <button
            class="tier-btn border rounded-lg p-4 text-left transition shadow-sm hover:shadow-md
                   ${selections[mod.key]===tier.key?'border-indigo-600 ring-2 ring-indigo-300':'border-slate-200'}"
            data-module="${mod.key}" data-tier="${tier.key}">
            <div class="flex items-center justify-between mb-2">
              <span class="font-medium">${tier.label}</span>
              <span class="w-4 h-4 rounded-full border
                           ${selections[mod.key]===tier.key?'bg-indigo-600 border-indigo-600':'border-slate-400'}"></span>
            </div>
            <p class="text-indigo-600 font-semibold">
              AED ${formatPrice(cycle==="annual"?tier.priceAnnual:tier.priceMonthly)}
            </p>
            <p class="text-xs mt-1 text-slate-600 leading-snug">${tier.blurb}</p>
          </button>
        `).join("")}
      </div>`;
    modulesEl.appendChild(row);
  });
}

/* ---------------------------------------------------------------------------
  5.  INVOICE CALC
-----------------------------------------------------------------------------*/
function recalcInvoice(){
  lineItemsEl.innerHTML="";
  let subtotal=0;
  modules.forEach(mod=>{
    const tierKey=selections[mod.key];
    if(!tierKey) return;
    const tier=mod.tiers.find(t=>t.key===tierKey);
    const price=cycle==="annual"?tier.priceAnnual:tier.priceMonthly;
    subtotal+=price;

    const li=document.createElement("li");
    li.className="py-2 flex justify-between";
    li.innerHTML=`<span>${mod.title} — ${tier.label}</span>
                  <span class="font-medium">AED ${formatPrice(price)}</span>`;
    lineItemsEl.appendChild(li);
  });
  const vat=subtotal*0.05;
  const total=subtotal+vat;
  subtotalEl.innerHTML=`<span>Subtotal</span><span>AED ${formatPrice(subtotal)}</span>`;
  vatEl.innerHTML     =`<span>VAT (5%)</span><span>AED ${formatPrice(vat)}</span>`;
  totalEl.innerHTML   =`<span>Total</span><span>AED ${formatPrice(total)}</span>`;
}

/* ---------------------------------------------------------------------------
  6.  HELPERS & EVENTS
-----------------------------------------------------------------------------*/
function formatPrice(n){return Math.round(n).toLocaleString();}

function setCycleButtons(){
  document.querySelectorAll(".cycle-btn").forEach(btn=>{
    const active = btn.id.startsWith(cycle);
    btn.classList.toggle("bg-indigo-600",active);
    btn.classList.toggle("text-white",active);
    btn.classList.toggle("text-slate-600",!active);
  });
  recalcInvoice();
}

document.body.addEventListener("click",e=>{
  const tierBtn=e.target.closest(".tier-btn");
  if(tierBtn){
    selections[tierBtn.dataset.module]=tierBtn.dataset.tier;
    renderModules(); recalcInvoice(); return;
  }
  if(e.target.id==="monthlyBtn"){cycle="monthly"; setCycleButtons();}
  if(e.target.id==="annualBtn") {cycle="annual";  setCycleButtons();}
});

$("#empRange").addEventListener("input",e=>{
  employees=Number(e.target.value);
  $("#empInput").value=employees; // (placeholder – we’re not using employees yet)
});
$("#empInput").addEventListener("input",e=>{
  employees=Number(e.target.value);
  $("#empRange").value=employees;
});

/* ---------------------------------------------------------------------------
  7.  BOOTSTRAP
-----------------------------------------------------------------------------*/
setCycleButtons();
renderModules();
recalcInvoice();
  </script>
</body>
</html>
  
